<Window x:Class="ConfigManagerStend.Forms.StendWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ConfigManagerStend.Forms"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Name="StendConfigWND"
        Title="Разворачивание Стендов (beta)" Height="780" Width="800">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="200"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="160"/>
        </Grid.RowDefinitions>

        <!-- Основное содержимое формы -->
        <Border Grid.Column="0" Grid.Row="0" Background="LightBlue">
            <StackPanel Grid.Column="0" Margin="0 0 10 0">
                <GroupBox Header="Основные параметры">
                    <StackPanel>
                        <!-- Имя ветки -->
                        <TextBlock Text="Наименование конфига (для сохранения)"/>
                        <TextBox x:Name="NameConfig"  Text="{Binding NameConfig}" Padding="2" Margin="0 0 0 10"/>

                        <!-- Имя приложения -->
                        <TextBlock Text="Имя приложения (appn)"/>
                        <TextBox x:Name="AppNameTxt" Text="{Binding Appn}" Padding="2" Margin="0 0 0 10"/>

                        <!-- Поле для выбора Стенда -->
                        <Label Content="Путь куда сохраниться стенд:"/>
                        <StackPanel Orientation="Horizontal">
                            <TextBox x:Name="BrowseStandTextBox" Text="{Binding PathStend}" Width="350" IsReadOnly="True"/>
                            <Button  x:Name="BrowseStandBtn" Content="Обзор..." Margin="5,0,0,0" Padding="2" Click="BrowseStandBtn_Click"/>
                        </StackPanel>

                        <!-- Порт -->
                        <TextBlock Text="Порт (portA)"/>
                        <TextBox x:Name="PortTxt" Text="{Binding PortA}" Padding="2" Margin="0 0 0 10"/>

                        <!-- Владелец БД -->
                        <TextBlock Text="Владелец БД (dbOwner) Точно такоеже как appn только КАПСОМ"/>
                        <TextBox x:Name="DbOwnerTxt" Text="{Binding DbOwner}" Padding="2" Margin="0 0 0 10"/>

                        <!-- PlatformHostDir -->
                        <TextBlock Text="PlatformHostDir (Дополнить)"/>
                        <TextBox x:Name="PlatformHostDir" Text="{Binding PlatformHostDir}" Padding="2" Margin="0 0 0 10"/>

                        <!-- BoxSettingsDir -->
                        <TextBlock Text="BoxSettingsDir (Дополнить)"/>
                        <TextBox x:Name="BoxSettingsDir" Text="{Binding BoxSettingDir}" Padding="2" Margin="0 0 0 10"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Параметры CI/CD" Margin="0 10 0 0">
                    <StackPanel>
                        <!-- Проект -->
                        <TextBlock Text="Team Project (Проект)"/>
                        <ComboBox x:Name="TeamProjectTxt" 
                                  ItemsSource="{Binding AllProjects}" 
                                  SelectedItem="{Binding SelectedProject}" 
                                  DisplayMemberPath="NameProject" 
                                  SelectionChanged="TeamProjectTxt_SelectionChanged"/>

                        <!-- Репозиторий -->
                        <TextBlock Text="Build Definition (Репозиторий)"/>
                        <ComboBox x:Name="BuildDefinitionTxt"  
                                  ItemsSource="{Binding Repos}" 
                                  SelectedItem="{Binding SelectedRepo}"  
                                  DisplayMemberPath="NameRepo"/>


                        <!-- Имя ветки -->
                        <TextBlock Text="Branch Name (Имя ветки)"/>
                        <TextBox x:Name="BranchNameTxt"  Text="{Binding BranchName}" Padding="2" Margin="0 0 0 10"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Настройки БД (Только ПГ)" Margin="0 10 0 0">
                    <StackPanel>
                        <TextBlock Text="CreateDB Option"/>
                        <ComboBox x:Name="CreateDbCombo"   
                                  ItemsSource="{Binding DbOpts}"  
                                  SelectedItem="{Binding SettingDb}"
                                  DisplayMemberPath="Opt"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </Border>

        <!-- Панель кнопок внизу -->
        <Border Grid.Column="0" Grid.Row="1" Background="LightGreen">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Первые две кнопки в одной строке -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button x:Name="saveConfigStend" Content="Сохранить конфиг" 
                            Margin="10 20 10 10" Padding="10 5" FontWeight="Bold" Width="150"/>
                    <Button x:Name="loadConfigStend" Content="Загрузить конфиг" 
                            Margin="10 20 10 10" Padding="10 5" FontWeight="Bold" Width="150"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Orientation="Vertical" HorizontalAlignment="Center" Width="580">
                    <Button x:Name="generateScrip" Content="Сгенерировать скрипт"  Margin="10 0 10 10" Padding="10 5" FontWeight="Bold"
                            HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" Command="{Binding CreateStend}"/>

                    <TextBox x:Name="ConsoleOutput" Text="{Binding ConsoleOutput}" 
                             Height="50" 
                             IsReadOnly="True"
                             Background="Lavender"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Правый сайдбар -->
        <Border Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Background="LightSalmon">
            <StackPanel>
                <GroupBox Header="Управление конфигами">
                    <Button x:Name="myConfigs" Content="Мои конфиги" Margin="10"/>
                </GroupBox>
                <GroupBox Header="Справочники">
                    <StackPanel>
                        <Button x:Name="project" Content="Проекты" Margin="10" Command="{Binding OpenShowProject}"/>
                        <Button x:Name="repo" Content="Репозитории" Margin="10" Command="{Binding OpenShowRepos}"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </Border>
    </Grid>
</Window>